<html>
<head>
<title>Fastclick</title>
<style>
body {
	margin: 0;
	padding: 0;
	overflow: hidden;
}

#container {
	width: 500px;
	height: 400px;
}
</style>
</head>
<script type="text/javascript" src="swfobject.js"></script>
<script src="//connect.facebook.net/en_US/all.js"></script>
<body marginwidth="0" marginheight="0" topmargin="0" leftmargin="0">
	<div id="fb-root"></div>
	<style type="text/css" media="screen">
html,body {
	height: 100%;
}

body {
	margin: 0;
	padding: 0;
	overflow: auto;
	text-align: center;
	background-color: #ffffff;
}

object:focus {
	outline: none;
}

#flashContent {
	display: none;
}
</style>

	<script type="text/javascript">
		// For version detection, set to min. required Flash Player version, or 0 (or 0.0.0), for no version detection. 
		var swfVersionStr = "10.1.0";
		// To use express install, set to playerProductInstall.swf, otherwise the empty string. 
		var xiSwfUrlStr = "playerProductInstall.swf";
		var flashvars = {};
		var params = {};
		params.quality = "high";
		params.bgcolor = "#ffffff";
		params.allowscriptaccess = "sameDomain";
		params.allowfullscreen = "true";
		var attributes = {};
		attributes.id = "Testing";
		attributes.name = "Testing";
		attributes.align = "middle";
		swfobject.embedSWF("FastClick.swf", "flashContent", "100%", "100%",
				swfVersionStr, xiSwfUrlStr, flashvars, params, attributes);
		// JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
		swfobject.createCSS("#flashContent", "display:block;text-align:left;");
	</script>
	<!-- SWFObject's dynamic embed method replaces this alternative HTML content with Flash content when enough 
             JavaScript and Flash plug-in support is available. The div is initially hidden so that it doesn't show
             when JavaScript is disabled.
        -->
	<div id="flashContent">
		<p>To view this page ensure that Adobe Flash Player version 10.1.0
			or greater is installed.</p>
		<script type="text/javascript">
			var pageHost = ((document.location.protocol == "https:") ? "https://"
					: "http://");
			document
					.write("<a href='http://www.adobe.com/go/getflashplayer'><img src='" 
                                + pageHost + "www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>");
		</script>
	</div>
	<script>
		window.fbAsyncInit = function() {

			FB.init({
				appId : '300602210033160', // App ID
					ÊfrictionlessRequests:true,
					 channelUrl:'/channel.html', // Channel File
					 status:true, // check login status
					 cookie:true, // enable cookies to allow the server to access the session
					 oauth:true
			// parse XFBML
			});
			
			FB.Event.subscribe('auth.statusChange', function(response) {
				console.log('auth.statusChange');
				console.dir(response);
		          if (response.authResponse) {
		            // user has auth'd your app and is logged into Facebook
		            FB.api("/me", function(response){
		            	console.dir(response);
		            	window.swfobject.getObjectById('Testing').onMe(response);
		            });
		            FB.api("/me/friends", function(response){
		            	console.dir(response);
		            	window.swfobject.getObjectById('Testing').onFetchFriends(response);
		            });
		          } else {
		            // user has not auth'd your app, or is not logged into Facebook
		            console.log('not logged in');
		            FB.login(function(response) {
		        		  console.dir(response);
		  				if (response.authResponse) {
		  					FB.api("/me", function(response){
				            	window.swfobject.getObjectById('Testing').onMe(response);
				            });
				            FB.api("/me/friends", function(response){
				            	window.swfobject.getObjectById('Testing').onFetchFriends(response);
				            });
		  				} else {
		  					console.log('User cancelled login or did not fully authorize.');
		  				}
		  			}, {scope:'email,user_about_me,publish_stream'});          
		          }
		        });

			// Load the SDK Asynchronously    
		};
		/*function getUserName(){
		  alert('getUserName');
		}
		
		function getFriends() {
		  log("getFriends");
		  FB.api('/me/friends', function(response) {
		      if(response) {
		          return response;
		      } else {
		          log("getFriends failed");
		      }
		  });
		}*/
	</script>

</body>
</html>